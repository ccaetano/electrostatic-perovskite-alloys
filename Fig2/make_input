#!/bin/bash

file="configs"

if [ ! -d input_files ];then
mkdir input_files 
fi

a1=3.6
a2=4.4

while read line;do
    i=1
    array=()
    for word in $line;do
        array+=($word)
        i=`expr $i + 1`
    done
    x=$(echo "scale=4; ${array[1]}/8" | bc)
    a=$(echo "scale=4; 2*((1-$x)*$a1+$x*$a2)" |  bc)
    cat > input_files/j${array[0]}.gin <<EOF
single
title
Perovskite alloy
end
cell
$a $a $a 90.00 90.00 90.00
frac
${array[3]} c	0.000000    0.000000    0.000000
${array[4]} c	0.000000    0.000000    0.500000
${array[5]} c	0.000000    0.500000    0.000000
${array[6]} c	0.000000    0.500000    0.500000
${array[7]} c	0.500000    0.000000    0.000000
${array[8]} c	0.500000    0.000000    0.500000
${array[9]} c	0.500000    0.500000    0.000000
${array[10]} c	0.500000    0.500000    0.500000
${array[11]} c	0.250000    0.250000    0.250000
${array[12]} c	0.250000    0.250000    0.750000
${array[13]} c	0.250000    0.750000    0.250000
${array[14]} c	0.250000    0.750000    0.750000
${array[15]} c	0.750000    0.250000    0.250000
${array[16]} c	0.750000    0.250000    0.750000
${array[17]} c	0.750000    0.750000    0.250000
${array[18]} c	0.750000    0.750000    0.750000
O c	0.250000    0.250000    0.000000
O c	0.250000    0.250000    0.500000
O c	0.250000    0.750000    0.000000
O c	0.250000    0.750000    0.500000
O c	0.750000    0.250000    0.000000
O c	0.750000    0.250000    0.500000
O c	0.750000    0.750000    0.000000
O c	0.750000    0.750000    0.500000
O c	0.000000    0.250000    0.250000
O c	0.000000    0.250000    0.750000
O c	0.000000    0.750000    0.250000
O c	0.000000    0.750000    0.750000
O c	0.500000    0.250000    0.250000
O c	0.500000    0.250000    0.750000
O c	0.500000    0.750000    0.250000
O c	0.500000    0.750000    0.750000
O c	0.250000    0.000000    0.250000
O c	0.250000    0.000000    0.750000
O c	0.250000    0.500000    0.250000
O c	0.250000    0.500000    0.750000
O c	0.750000    0.000000    0.250000
O c	0.750000    0.000000    0.750000
O c	0.750000    0.500000    0.250000
O c	0.750000    0.500000    0.750000
species 7 
K  core  1.0
Sr core  2.0
La core  3.0
Fe core  3.0
Ti core  4.0
Nb core  5.0
O  core -2.0 
EOF
done <"$file"
